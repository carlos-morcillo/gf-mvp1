<div class="container-fluid d-flex flex-column gap-4">
  <h1>{{ "AGENT_LIST.TITLES.MAIN" }}</h1>

  <div class="d-flex justify-content-end gap-2">
    <button class="btn btn-primary" [routerLink]="['.', 'add']">
      {{ "AGENT_LIST.BUTTONS.ADD" }}
    </button>
  </div>

  <hub-ui-table
    [headers]="headers"
    [loading]="paginatedData.isLoading()"
    [data]="paginatedData.value()"
    [searchable]="false"
  >
    <ng-template paginableTableCell header="pin" let-row="row">
      <button type="button" class="btn btn-link p-0" (click)="togglePin(row)">
        <i
          class="fa-solid fa-thumbtack"
          [class.text-warning]="isPinned(row)"
          [class.text-secondary]="!isPinned(row)"
        ></i>
      </button>
    </ng-template>
    <ng-template
      paginableTableCell
      header="meta.capabilities"
      let-property="property"
    >
      <div class="d-flex gap-2 flex-wrap">
        @for (capability of summarizeCapabilities(property); track $index) {
        <span class="badge rounded-pill text-bg-secondary">{{
          capability | titlecase
        }}</span>

        }
      </div>
    </ng-template>
    <ng-template paginableTableCell header="chat" let-row="row">
      <a [routerLink]="['/agents', row.id, 'chat']" class="btn btn-link p-0">
        {{ 'AGENT_CHAT.NEW_BUTTON' | transloco }}
      </a>
    </ng-template>

    <ng-template noDataTpt>
      {{ "AGENT_LIST.EMPTY.NO_RESULTS" }}
    </ng-template>
  </hub-ui-table>
</div>
